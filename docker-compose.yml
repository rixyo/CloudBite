version: "3.6"
services:
  postgres-auth:
    image: postgres:latest
    restart: unless-stopped
  postgres-resturant:
    image: postgres:latest
    restart: unless-stopped
  postgres-order:
    image: postgres:latest
    restart: unless-stopped
  postgres-admin:
    image: postgres:latest
    restart: unless-stopped
  
  auth-service:
    build:
      context: ./apps/auth-service
      dockerfile: Dockerfile
    ports:
      - 5001:5001
    env_file:
      - ./apps/auth-service/.env
  restaurant-service:
    build:
      context: ./apps/restaurant-service
      dockerfile: Dockerfile
    ports:
      - 5002:5002
    env_file:
      - ./apps/restaurant-service/.env
  order-service:
    build:
      context: ./apps/order-service
      dockerfile: Dockerfile
    ports:
      - 5003:5003
    env_file:
      - ./apps/order-service/.env  
  admin-service:
    build:
      context: ./apps/admin-service
      dockerfile: Dockerfile
    ports:
      - 5004:5004
    env_file:
      - ./apps/admin-service/.env